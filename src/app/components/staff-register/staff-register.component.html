<div class="container mt-5">
  <h2>Staff Registration</h2>

  <div
    *ngIf="message"
    class="alert"
    [ngClass]="{ 'alert-success': success, 'alert-danger': !success }"
    role="alert"
  >
    {{ message }}
  </div>
  <form (ngSubmit)="registerStaff()" #staffForm="ngForm">
    <div class="form-group">
      <label for="surname">Surname:</label>
      <input
        type="text"
        id="surname"
        class="form-control"
        [(ngModel)]="staffData.surname"
        name="surname"
        required
        #surname="ngModel"
      />
      <div *ngIf="surname.invalid && surname.touched" class="text-danger">
        Surname is required.
      </div>
    </div>

    <div class="form-group">
      <label for="otherNames">Other Name(s):</label>
      <input
        type="text"
        id="otherNames"
        class="form-control"
        [(ngModel)]="staffData.otherNames"
        name="otherNames"
        required
        #otherNames="ngModel"
      />
      <div *ngIf="otherNames.invalid && otherNames.touched" class="text-danger">
        Other names are required.
      </div>
    </div>

    <div class="form-group">
      <label for="dob">Date of Birth:</label>
      <input
        type="date"
        id="dob"
        class="form-control"
        [(ngModel)]="staffData.dob"
        name="dob"
        required
        #dob="ngModel"
      />
      <div *ngIf="dob.invalid && dob.touched" class="text-danger">
        Date of Birth is required.
      </div>
    </div>

    <div class="form-group">
      <label for="idPhoto">ID Photo:</label>
      <input
        type="file"
        id="idPhoto"
        class="form-control"
        (change)="onFileChange($event)"
      />
    </div>

    <div class="form-group">
      <label for="authCode">Unique Code:</label>
      <input
        type="text"
        id="authCode"
        class="form-control"
        [(ngModel)]="staffData.authCode"
        name="authCode"
        required
        minlength="10"
        maxlength="10"
        #authCode="ngModel"
      />
      <div *ngIf="authCode.invalid && authCode.touched" class="text-danger">
        Unique code must be exactly 10 characters.
      </div>
    </div>

    <button
      type="submit"
      class="btn btn-primary btn-block"
      [disabled]="staffForm.invalid"
    >
      Register
    </button>
  </form>
  <div class="mt-3">
    <button routerLink="/" class="btn btn-info">
      View All Staff
    </button>
  </div>
</div>
